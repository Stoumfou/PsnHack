<html>
<head>
<title>demineur</title>
<script>
jeu=new Array(64);
de=new Array(64);
function depart(){
	dt1=new Date();
	hr1=dt1.getHours();
	min1=dt1.getMinutes();
	sec1=dt1.getSeconds();
	for (x=0;x<64;x++){
		jeu[x]=0;
		de[x]=0;
	}
	for (x=1;x<9;x++){
		for (y=1;y<9;y++){
			document.images[x+'et'+y].src='rien.jpg';
		}
	}
	i=0;
	while(i<10){
		x=rnd(8)+1;
		y=rnd(8)+1;
		if (jeu[x+y*8-9]==0){
			jeu[x+y*8-9]=9;
			i++;
		}
	}
	for (x=1;x<9;x++){
		for (y=1;y<9;y++){
			i=0;
			if (x>1){
				if (jeu[(x-1)+(y-1)*8-9]==9){
					i++;
				}
				if (jeu[(x-1)+(y)*8-9]==9){
					i++;
				}
				if (jeu[(x-1)+(y+1)*8-9]==9){
					i++;
				}
			}
			if (jeu[(x)+(y-1)*8-9]==9){
				i++;
			}
			if (jeu[(x)+(y+1)*8-9]==9){
				i++;
			}
			if (x<8){
				if (jeu[(x+1)+(y-1)*8-9]==9){
					i++;
				}
				if (jeu[(x+1)+(y)*8-9]==9){
					i++;
				}
				if (jeu[(x+1)+(y+1)*8-9]==9){
					i++;
				}
			}
			if (jeu[x+y*8-9]==9){
				i=9;
			}
			jeu[x+y*8-9]=i;
		}
	}
	heure();
}
function joueurdemin(x,y){
	var x2, y2, a, b;
	if (de[x+y*8-9]==0){
		document.images[x+'et'+y].src=jeu[x+y*8-9]+'.jpg';
		de[x+y*8-9]=1;
		if (jeu[x+y*8-9]==9){
			for (x=1;x<9;x++){
				for (y=1;y<9;y++){
					document.images[x+'et'+y].src=jeu[x+y*8-9]+'.jpg';
				}
			}
			alert("Vous avez perdu !!!");
			depart();
			alert("tache de faire mieux !!!");
		}else if (jeu[x+y*8-9]==0){
			for (x2 = x - 1; x2 < x + 2; x2++){
				for (y2 = y - 1; y2 < y + 2 ; y2++){
					if (x2 >0 && x2 < 9 && y2 >0 && y2 < 9 && de[x2+y2*8-9]==0){
						joueurdemin(x2,y2);
					}
				}
			}
		}
	}
	a=0;
	b=0;
	for (x2 = 1; x2 < 9; x2++){
		for (y2 = 1; y2 < 9; y2++){
			if (de[x2+y2*8-9]==0){
				a++;
			}
		}
	}
	if (a==10){
		alert("gagnï¿½ !!!");
		document.form.pseudo.value=prompt("Pseudo :");
		document.form.submit();
	}
}
	function heure(){
		dt2=new Date();
		hr2=dt2.getHours();
		min2=dt2.getMinutes();
		sec2=dt2.getSeconds();
		document.form.score.value=(hr2-hr1)*3600+(min2-min1)*60+(sec2-sec1);
		setTimeout("heure();", 500);
	}
function rnd(n){
	var temp = Math.random();
	if (temp==1) temp=0.9;
	return Math.floor(temp * n);
}
</script>
<link rel="Stylesheet" href="../../../site.css" type="text/css">
</head>
<body onload ="depart()" background ="../../../fond.jpg">
<table border="1" width="100%"><tr><td bgcolor="0077ff"><center><p><font color="ff7700" size="7">demineur</font></p></center></td></tr></table>
<Center>
<table border="1">
<tr>
<td>
<img src="rien.jpg" name="1et1" onclick="joueurdemin( 1, 1 )">
<img src="rien.jpg" name="2et1" onclick="joueurdemin( 2, 1 )">
<img src="rien.jpg" name="3et1" onclick="joueurdemin( 3, 1 )">
<img src="rien.jpg" name="4et1" onclick="joueurdemin( 4, 1 )">
<img src="rien.jpg" name="5et1" onclick="joueurdemin( 5, 1 )">
<img src="rien.jpg" name="6et1" onclick="joueurdemin( 6, 1 )">
<img src="rien.jpg" name="7et1" onclick="joueurdemin( 7, 1 )">
<img src="rien.jpg" name="8et1" onclick="joueurdemin( 8, 1 )"><br>
<img src="rien.jpg" name="1et2" onclick="joueurdemin( 1, 2 )">
<img src="rien.jpg" name="2et2" onclick="joueurdemin( 2, 2 )">
<img src="rien.jpg" name="3et2" onclick="joueurdemin( 3, 2 )">
<img src="rien.jpg" name="4et2" onclick="joueurdemin( 4, 2 )">
<img src="rien.jpg" name="5et2" onclick="joueurdemin( 5, 2 )">
<img src="rien.jpg" name="6et2" onclick="joueurdemin( 6, 2 )">
<img src="rien.jpg" name="7et2" onclick="joueurdemin( 7, 2 )">
<img src="rien.jpg" name="8et2" onclick="joueurdemin( 8, 2 )"><br>
<img src="rien.jpg" name="1et3" onclick="joueurdemin( 1, 3 )">
<img src="rien.jpg" name="2et3" onclick="joueurdemin( 2, 3 )">
<img src="rien.jpg" name="3et3" onclick="joueurdemin( 3, 3 )">
<img src="rien.jpg" name="4et3" onclick="joueurdemin( 4, 3 )">
<img src="rien.jpg" name="5et3" onclick="joueurdemin( 5, 3 )">
<img src="rien.jpg" name="6et3" onclick="joueurdemin( 6, 3 )">
<img src="rien.jpg" name="7et3" onclick="joueurdemin( 7, 3 )">
<img src="rien.jpg" name="8et3" onclick="joueurdemin( 8, 3 )"><br>
<img src="rien.jpg" name="1et4" onclick="joueurdemin( 1, 4 )">
<img src="rien.jpg" name="2et4" onclick="joueurdemin( 2, 4 )">
<img src="rien.jpg" name="3et4" onclick="joueurdemin( 3, 4 )">
<img src="rien.jpg" name="4et4" onclick="joueurdemin( 4, 4 )">
<img src="rien.jpg" name="5et4" onclick="joueurdemin( 5, 4 )">
<img src="rien.jpg" name="6et4" onclick="joueurdemin( 6, 4 )">
<img src="rien.jpg" name="7et4" onclick="joueurdemin( 7, 4 )">
<img src="rien.jpg" name="8et4" onclick="joueurdemin( 8, 4 )"><br>
<img src="rien.jpg" name="1et5" onclick="joueurdemin( 1, 5 )">
<img src="rien.jpg" name="2et5" onclick="joueurdemin( 2, 5 )">
<img src="rien.jpg" name="3et5" onclick="joueurdemin( 3, 5 )">
<img src="rien.jpg" name="4et5" onclick="joueurdemin( 4, 5 )">
<img src="rien.jpg" name="5et5" onclick="joueurdemin( 5, 5 )">
<img src="rien.jpg" name="6et5" onclick="joueurdemin( 6, 5 )">
<img src="rien.jpg" name="7et5" onclick="joueurdemin( 7, 5 )">
<img src="rien.jpg" name="8et5" onclick="joueurdemin( 8, 5 )"><br>
<img src="rien.jpg" name="1et6" onclick="joueurdemin( 1, 6 )">
<img src="rien.jpg" name="2et6" onclick="joueurdemin( 2, 6 )">
<img src="rien.jpg" name="3et6" onclick="joueurdemin( 3, 6 )">
<img src="rien.jpg" name="4et6" onclick="joueurdemin( 4, 6 )">
<img src="rien.jpg" name="5et6" onclick="joueurdemin( 5, 6 )">
<img src="rien.jpg" name="6et6" onclick="joueurdemin( 6, 6 )">
<img src="rien.jpg" name="7et6" onclick="joueurdemin( 7, 6 )">
<img src="rien.jpg" name="8et6" onclick="joueurdemin( 8, 6 )"><br>
<img src="rien.jpg" name="1et7" onclick="joueurdemin( 1, 7 )">
<img src="rien.jpg" name="2et7" onclick="joueurdemin( 2, 7 )">
<img src="rien.jpg" name="3et7" onclick="joueurdemin( 3, 7 )">
<img src="rien.jpg" name="4et7" onclick="joueurdemin( 4, 7 )">
<img src="rien.jpg" name="5et7" onclick="joueurdemin( 5, 7 )">
<img src="rien.jpg" name="6et7" onclick="joueurdemin( 6, 7 )">
<img src="rien.jpg" name="7et7" onclick="joueurdemin( 7, 7 )">
<img src="rien.jpg" name="8et7" onclick="joueurdemin( 8, 7 )"><br>
<img src="rien.jpg" name="1et8" onclick="joueurdemin( 1, 8 )">
<img src="rien.jpg" name="2et8" onclick="joueurdemin( 2, 8 )">
<img src="rien.jpg" name="3et8" onclick="joueurdemin( 3, 8 )">
<img src="rien.jpg" name="4et8" onclick="joueurdemin( 4, 8 )">
<img src="rien.jpg" name="5et8" onclick="joueurdemin( 5, 8 )">
<img src="rien.jpg" name="6et8" onclick="joueurdemin( 6, 8 )">
<img src="rien.jpg" name="7et8" onclick="joueurdemin( 7, 8 )">
<img src="rien.jpg" name="8et8" onclick="joueurdemin( 8, 8 )"><br>
</td>
</tr>
</table>
<form name="form" submit="../../bestscore.php">
<input type="text" size="5" name="score"> secondes
<input type="hidden" size="5" name="pseudo">
</form>
</center>
</body>
</html>
